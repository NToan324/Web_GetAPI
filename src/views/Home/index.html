<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css    " />
    <link rel="stylesheet" href="/src/views/Home/style.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <title>Home</title>
</head>

<body>
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="profile">
            <div class="profile-img">
                <img src="/storage/posts/avatar.jpg" alt="avatar" />
            </div>
            <div class="name">
                <h3>Nh·∫≠t To√†n</h3>
            </div>
        </div>

        <div class="menu">
            <a href="#">
                <span class="icon">
                    <i class="fas fa-home"></i>
                    <span class="tooltip">Home</span>
                </span>
                <span class="hide">Feed</span>
            </a>
            <a href="#" id="a-search">
                <span class="icon">
                    <i class="fas fa-search"></i>
                    <span class="tooltip">Search</span>
                </span>
                <span class="hide">Search</span>
            </a>
            <a href="#" id="a-notification">
                <span class="icon">
                    <i class="fas fa-bell"></i>
                    <span class="tooltip">Notification</span>
                </span>
                <span class="hide">Notification</span>
            </a>
            <a href="#">
                <span class="icon">
                    <i class="fas fa-comments"></i>
                    <span class="tooltip">Message</span>
                </span>
                <span class="hide">Message</span>
            </a>
            <a href="/src/views/Post/index.html">
                <span class="icon">
                    <i class="fas fa-plus-circle"></i>
                    <span class="tooltip">Post</span>
                </span>
                <span class="hide">Post</span>
            </a>
            <a href="#" class="setting">
                <span class="icon">
                    <i class="fas fa-cog"></i>
                    <span class="tooltip">Settings</span>
                </span>
                <span class="hide">Settings</span>
            </a>
            <a id="logout-btn" class="logout">
                <span class="icon">
                    <i class="fas fa-sign-out-alt"></i>
                    <span class="tooltip">Logout</span>
                </span>
                <span class="hide">Logout</span>
            </a>
        </div>
    </div>
    <!-- Notification show page -->
    <div class="container-notification" id="container-notification">
        <div class="form-container-notification ">
            <form action="" class="action-notification">
                <div class="header-notification">
                    <h1>Notifications</h1>
                </div>
                <div class="body-search-notification">
                    <p class="day-notification">Today</p>
                    <table>
                        <div class="profile-notification">
                            <tr class="hover-notification">
                                <td width="10%">
                                    <div class="profile-img-notification">
                                        <img src="/storage/posts/image2.jpg" alt="avatar">
                                    </div>
                                </td>
                                <td>
                                    <p class="name-notification">katiee.04 <span id="news-notification">liked your
                                            news.</span></p>
                                </td>
                                <td width="20%" class="hour-notification">
                                    3 mins
                                </td>
                            </tr>
                            <tr class="hover-notification">
                                <td width="10%">
                                    <div class="profile-img-notification">
                                        <img src="/storage/posts/image1.jpg" alt="avatar">
                                    </div>
                                </td>
                                <td>
                                    <p class="name-notification">typical__ <span id="news-notification">mentioned you in
                                            the commnet: I love you so much. üíù</span></p>
                                </td>
                                <td width="20%" class="hour-notification">
                                    2 hours
                                </td>
                            </tr>
                        </div>
                    </table>

                    <p class="day-notification">Yesterday</p>

                    <table>
                        <div class="profile-notification">
                            <tr class="hover-notification">
                                <td width="10%">
                                    <div class="profile-img-notification">
                                        <img src="/storage/posts/image1.jpg" alt="avatar">
                                    </div>
                                </td>
                                <td>
                                    <p class="name-notification">jessica <span id="news-notification">liked your
                                            comment: Congratulation üòö</span></p>
                                </td>
                                <td width="20%" class="hour-notification">
                                    23 hours
                                </td>
                            </tr>
                            <tr class="hover-notification">
                                <td width="10%">
                                    <div class="profile-img-notification">
                                        <img src="/storage/posts/image4.jpg" alt="avatar">
                                    </div>
                                </td>
                                <td>
                                    <p class="name-notification">greeeny and 90 other people <span
                                            id="news-notification">liked your post.</span></p>
                                </td>
                                <td width="10%" class="hour-notification">
                                    1 day
                                </td>
                            </tr>
                        </div>
                    </table>

                    <p class="day-notification">This week</p>

                    <table>
                        <div class="profile-notification">
                            <tr class="hover-notification">
                                <td width="10%">
                                    <div class="profile-img-notification">
                                        <img src="/storage/posts/image1.jpg" alt="avatar">
                                    </div>
                                </td>
                                <td>
                                    <p class="name-notification">jessica <span id="news-notification">liked your
                                            comment: Congratulation üòö</span></p>
                                </td>
                                <td width="20%" class="hour-notification">
                                    1 day
                                </td>
                            </tr>
                            <tr class="hover-notification">
                                <td width="10%">
                                    <div class="profile-img-notification">
                                        <img src="/storage/posts/image4.jpg" alt="avatar">
                                    </div>
                                </td>
                                <td>
                                    <p class="name-notification">greeeny and 90 other people <span
                                            id="news-notification">liked your post.</span></p>
                                </td>
                                <td width="20%" class="hour-notification">
                                    2 days
                                </td>
                            </tr>
                            <tr class="hover-notification">
                                <td width="10%">
                                    <div class="profile-img-notification">
                                        <img src="/storage/posts/image2.jpg" alt="avatar">
                                    </div>
                                </td>
                                <td>
                                    <p class="name-notification">katiee.04 <span id="news-notification">liked your
                                            news.</span></p>
                                </td>
                                <td width="20%" class="hour-notification">
                                    2 days
                                </td>
                            </tr>
                            <tr class="hover-notification">
                                <td width="10%">
                                    <div class="profile-img-notification">
                                        <img src="/storage/posts/image3.jpg" alt="avatar">
                                    </div>
                                </td>
                                <td>
                                    <p class="name-notification">typical__ <span id="news-notification">mentioned you in
                                            the commnet: I love you so much. üíù</span></p>
                                </td>
                                <td width="20%" class="hour-notification">
                                    4 days
                                </td>
                            </tr>
                        </div>
                    </table>
                </div>
            </form>
        </div>
    </div>
    <!-- Search show page -->
    <div class="container-search" id="container-search">
        <div class="form-container-search">
            <form action="" class="action">
                <div class="header-search">
                    <h2>Search</h2>
                    <div class="search">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="Search">       
                    </div>
                </div>
                <div class="body-search">
                    <div class="head-body-search">
                        <table>
                            <tr>
                                <td>Recently</td>
                                <td></td>
                                <td id="delete-search"><a href="#"> Delete all </a></td>
                            </tr>
                        </table>
                    </div>
                    <div class="profile-search">
                        <table >
                            <tr class="hover-search">
                                <td width="10%"> 
                                    <div class="profile-img-search">
                                        <img src="/storage/posts/image2.jpg" alt="avatar">
                                    </div>
                                </td>
                                <td>
                                    <p id="name-search">katiee.04</p>
                                </td>
                                <td id="x" width="5%">
                                    <a style="color: gray" href="#" onclick=""><i class="fa-solid fa-x"></i></a>
                                    
                                </td>
                            </tr>
                            <tr class="hover-search">
                                <td width="10%"> 
                                    <div class="profile-img-search">
                                        <img src="/storage/posts/image3.jpg" alt="avatar">
                                    </div>
                                </td>
                                <td>
                                    <p id="name-search">typical__</p>
                                </td>
                                <td id="x" width="5%">
                                    <a style="color: gray" href="#" onclick=""><i class="fa-solid fa-x"></i></a>
                                    
                                </td>
                            </tr>
                        </table>  
                    </div>  
                </div>
            </form>
        </div>
    </div>
    <!-- Main Home -->
    <div class="main-home">
        <div class="header">
            <div class="search">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="search" />
            </div>
            <div class="setting-logout">
                <a href="#" class="hide setting">
                    <span class="icon hide">
                        <i class="fas fa-cog"></i>
                    </span>
                </a>
                <a href="#" class="hide logout">
                    <span class="icon">
                        <i class="fas fa-sign-out-alt"></i>
                    </span>
                </a>
            </div>
        </div>
        <!-- Feed -->
        <div class="feed">
            <h1>Feed</h1>
            <div class="feed-text">
                <h2>Latest</h2>
                <span>Popular</span>
            </div>
        </div>
        <!-- Post -->
        <div class="main-posts">
            <!-- box1 -->
            <script>
                function renderPosts(posts) {
                    const postContainer = $('.main-posts')
                    posts.forEach(post => {
                        let html = `
                            <div class="post-box">
                            <div class="post-profile">
                                <div class="post-img">
                                    <img src="../../../storage/users/${post.avatar}" alt="" />
                                </div>
                                <h3>${post.user_name}</h3>
                                <span>23 hours</span>
                            </div>
                            <div class="caption">
                                <p>${post.content}</p>
                            </div>
                            <img src="../../../storage/posts/${post.image}" alt="" />
                            <div class="post-info">
                                <div class="likes">
                                    <i class="far fa-heart" onclick="liked(this)"></i>
                                </div>
                                <div class="comments">
                                    <i class="far fa-comment-dots"></i>
                                </div>
                            </div>
                            <div class="likes-comments-info">
                                <span>${post.total_likes} Likes</span>
                                <div class="comments-show">
                                    <div class ="comments-user">
                                        <h4>Nh·∫≠t To√†n</h4>
                                        <p>${post.content}</p>
                                    </div>  
                                </div>
                                <div class="write-comments">
                                    <input type="text" placeholder="Write a comment..." />
                                    <i class="far fa-paper-plane"></i>
                                </div>
                            </div>
                        </div>
                        `

                        postContainer.append(html)

                    });
                }

                $.get('/loadAllPost', (res) => {
                    if (res.success) {
                        renderPosts(res.data)
                    } else {
                        console.log(res)
                    }
                })
            </script>
        
        </div>
    </div>
    <script src="/src/views/Home/script.js"></script>
    <script src="/src/views/Home/logout.js"></script>
</body>

</html>